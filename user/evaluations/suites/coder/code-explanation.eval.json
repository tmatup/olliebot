{
  "version": "1.0",

  "metadata": {
    "id": "coder-explanation-001",
    "name": "Code Explanation",
    "description": "Evaluates coder agent's ability to explain code clearly",
    "target": "sub-agent:coder",
    "tags": ["coder", "explanation", "teaching"]
  },

  "target": {
    "source": "file",
    "prompt": "coder.md"
  },

  "testCase": {
    "userPrompt": "Can you explain what this code does?\n\n```python\ndef mystery(arr):\n    return [x for x in arr if arr.count(x) == 1]\n```",
    "history": []
  },

  "toolExpectations": {
    "expectedTools": [],
    "forbiddenTools": []
  },

  "mockedOutputs": {},

  "responseExpectations": {
    "requiredElements": [
      {
        "id": "purpose",
        "description": "Explains the overall purpose",
        "matchType": "semantic",
        "value": "explains that it returns elements that appear only once in the array",
        "weight": 1.0
      },
      {
        "id": "list-comprehension",
        "description": "Explains list comprehension",
        "matchType": "semantic",
        "value": "mentions list comprehension or explains the bracket syntax",
        "weight": 0.8
      },
      {
        "id": "count-method",
        "description": "Explains the count method",
        "matchType": "semantic",
        "value": "explains that count checks how many times x appears",
        "weight": 0.8
      }
    ],
    "optionalElements": [
      {
        "id": "example",
        "description": "Provides an example",
        "matchType": "semantic",
        "value": "shows example input and output to illustrate",
        "weight": 0.5
      },
      {
        "id": "performance",
        "description": "Mentions performance characteristics",
        "matchType": "semantic",
        "value": "notes that it's O(nÂ²) due to count being called for each element",
        "weight": 0.3
      }
    ],
    "constraints": {
      "minLength": 80,
      "maxLength": 1500
    }
  },

  "delegationExpectations": {
    "shouldDelegate": false
  },

  "scoring": {
    "toolSelection": {
      "weight": 0.1,
      "criteria": {
        "correct_tools_called": 1.0
      }
    },
    "responseQuality": {
      "weight": 0.9,
      "criteria": {
        "required_elements": 0.6,
        "optional_elements": 0.3,
        "constraints_met": 0.1
      }
    }
  }
}
